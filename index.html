<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Rééducation Motrice VR Gamifié</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #f7f7f7;
            color: #444;
            scroll-behavior: smooth;
            overflow-x: hidden;
        }
        .main-header {
            margin-bottom: 0;
            position: relative;
        }
        .cedric-banner {
            position: relative;
            background: #b81c2c;
            min-height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            padding: 20px;
            box-sizing: border-box;
            flex-direction: column;
            text-align: center;
        }
        .banner-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            z-index: 2;
            width: 100%;
        }
        .logo-wrapper {
            background-color: #fff;
            border: 2px solid #fff;
            border-radius: 8px;
            padding: 5px 10px;
            display: inline-block;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            margin-bottom: 10px;
        }
        .banner-logo {
            max-width: 250px;
            height: auto;
            display: block;
            margin: 0 auto;
            /* filter: brightness(0); */
        }
        .cedric-banner h1 {
            color: #fff;
            font-size: 2.8em;
            font-weight: bold;
            letter-spacing: 1px;
            z-index: 2;
            text-align: center;
            margin: 0;
            line-height: 1.1;
            text-shadow: 0 2px 8px #a00, 0 0 1px #fff;
            padding: 0;
        }
        .cedric-banner .squares {
            position: absolute;
            width: 100%;
            height: 100%;
            left: 0; top: 0;
            z-index: 1;
            pointer-events: none;
        }
        .cedric-banner .squares span {
            position: absolute;
            background: rgba(255,255,255,0.7);
            border-radius: 2px;
            opacity: 0.7;
            animation: float 10s linear infinite;
        }
        .cedric-banner .squares span:nth-child(1) {
            width: 38px; height: 38px; left: 10%; top: 30px; animation-delay: 0s;
        }
        .cedric-banner .squares span:nth-child(2) {
            width: 18px; height: 18px; left: 30%; top: 80px; animation-delay: 2s;
        }
        .cedric-banner .squares span:nth-child(3) {
            width: 28px; height: 28px; left: 55%; top: 20px; animation-delay: 4s;
        }
        .cedric-banner .squares span:nth-child(4) {
            width: 14px; height: 14px; left: 70%; top: 60px; animation-delay: 1s;
        }
        .cedric-banner .squares span:nth-child(5) {
            width: 22px; height: 22px; left: 85%; top: 40px; animation-delay: 3s;
        }
        @keyframes float {
            0% { transform: translateY(0);}
            100% { transform: translateY(25px);}
        }
        .main-nav {
            width: 100%;
            background: #bdbdbd;
            color: #fff;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
            box-sizing: border-box;
            height: 48px;
            position: sticky;
            top: 0;
        }
        .main-nav ul {
            list-style: none;
            display: flex;
            margin: 0;
            padding: 0;
        }
        .main-nav li {
            margin: 0;
        }
        .main-nav a {
            display: block;
            color: #444;
            text-decoration: none;
            font-weight: 600;
            padding: 0.8em 1.3em;
            border-radius: 0;
            transition: background 0.2s, color 0.2s;
            font-size: 1.05em;
        }
        .main-nav a:hover,
        .main-nav a:focus {
            background: #fff;
            color: #b81c2c;
        }
        .main-nav .burger {
            display: none;
        }
        @media (max-width: 900px) {
            .main-nav ul {
                position: absolute;
                top: 48px;
                right: 0;
                background: #bdbdbd;
                flex-direction: column;
                width: 200px;
                display: none;
                box-shadow: 0 6px 24px rgba(0, 0, 0, 0.15);
                z-index: 1001;
            }
            .main-nav ul.active {
                display: flex;
            }
            .main-nav .burger {
                display: flex;
                flex-direction: column;
                justify-content: center;
                height: 40px;
                width: 40px;
                cursor: pointer;
                margin-left: 1em;
                background: none;
                border: none;
                z-index: 2001;
            }
            .main-nav .burger span {
                height: 4px;
                width: 28px;
                background: #b81c2c;
                margin: 4px 0;
                border-radius: 2px;
                transition: 0.3s;
                display: block;
            }
            .main-nav .burger.active span:nth-child(1) {
                transform: translateY(8px) rotate(45deg);
            }
            .main-nav .burger.active span:nth-child(2) {
                opacity: 0;
            }
            .main-nav .burger.active span:nth-child(3) {
                transform: translateY(-8px) rotate(-45deg);
            }
            .stats-row {
                flex-direction: column;
                gap: 8px;
            }
            #présentation .content-wrapper {
                flex-direction: column-reverse;
                align-items: flex-start;
            }
            #présentation iframe {
                width: 100%;
                height: 250px;
                margin-bottom: 20px;
            }
            #magemotion {
                flex-direction: column;
            }
            #magemotion .image {
                margin-left: 0;
                margin-top: 20px;
                max-width: 100%;
            }
            .equipe-capsules {
                flex-direction: column;
                gap: 10px;
            }
            .banner-logo {
                max-width: 150px;
            }
            .cedric-banner h1 {
                font-size: 2.2em;
            }
        }
        @media (min-width: 769px) {
            .banner-content {
                flex-direction: row;
                justify-content: center;
                text-align: left;
                gap: 30px;
            }
            .cedric-banner h1 {
                font-size: 3.2em;
                text-align: left;
            }
        }
        .container {
            max-width: 1200px;
            margin: 40px auto 20px auto;
            padding: 0 20px;
        }
        section {
            background-color: #fff;
            margin-bottom: 20px;
            padding: 40px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
            min-height: 60vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            position: relative;
        }
        h2 {
            color: #b81c2c;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 2em;
            font-weight: bold;
            letter-spacing: 1px;
        }
        #accueil h2 {
            text-align: center;
            font-size: 2.2em;
            margin: 0;
            padding-bottom: 0;
            border-bottom: none;
            transition: font-size 0.3s ease;
        }
        #accueil p {
            font-size: 1.1em;
            color: #444;
            margin: 0;
            line-height: 1.6;
            text-align: center;
            background: #fff;
            border-left: 4px solid #b81c2c;
            padding: 15px 20px;
            border-radius: 0 8px 8px 0;
            margin-top: 20px;
        }
        .stats-row {
            display: flex;
            gap: 32px;
            margin: 30px 0 0 0;
            flex-wrap: wrap;
        }
        .stats-block {
            flex: 1 1 180px;
            background: #f7f7f7;
            border-radius: 8px;
            text-align: center;
            padding: 18px 0 10px 0;
            margin: 0 0 12px 0;
        }
        .stats-block .stat-number {
            font-size: 2.5em;
            color: #b81c2c;
            font-weight: bold;
            line-height: 1;
        }
        .stats-block .stat-label {
            color: #888;
            font-size: 1.1em;
            letter-spacing: 1px;
        }
        .equipe-capsules {
            display: flex;
            flex-wrap: wrap;
            gap: 18px;
            margin-top: 16px;
        }
        .equipe-capsule {
            background: #fff;
            border: 2px solid #b81c2c;
            border-radius: 32px;
            padding: 12px 28px;
            font-size: 1.1em;
            color: #b81c2c;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(184,28,44,0.07);
            transition: background 0.2s, color 0.2s;
            margin-bottom: 8px;
            white-space: nowrap;
        }
        .equipe-capsule:hover {
            background: #b81c2c;
            color: #fff;
        }
        #contact form {
            max-width: 400px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        #contact form label {
            font-weight: 600;
            color: #b81c2c;
            margin-bottom: 4px;
            margin-top: 8px;
        }
        #contact form input:focus,
        #contact form textarea:focus,
        #contact form select:focus {
            outline: 2px solid #b81c2c;
            border-color: #b81c2c;
            background: #fffbe6;
        }
        #contact form input[required],
        #contact form textarea[required],
        #contact form select[required] {
            border-left: 4px solid #b81c2c;
        }
        #contact form span[aria-hidden="true"] {
            color: #b81c2c;
            font-size: 1.1em;
            margin-left: 2px;
        }
        #contact form input,
        #contact form textarea,
        #contact form select {
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #ccc;
            font-size: 1em;
            resize: vertical;
            background-color: #fff;
            color: #444;
        }
        #contact button {
            background: #b81c2c;
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 12px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background 0.2s;
        }
        #contact button:hover {
            background: #a00;
        }
        #form-message {
            font-size: 1.1em;
            margin-top: 12px;
            color: green;
            display: none;
        }
        footer {
            background-color: #b81c2c;
            color: #fff;
            text-align: center;
            padding: 1em 0;
            margin-top: 20px;
            font-size: 1.1em;
        }
        .next-btn {
            position: fixed;
            bottom: 32px;
            right: 32px;
            background: #b81c2c;
            color: #fff;
            border: none;
            border-radius: 50%;
            width: 56px;
            height: 56px;
            font-size: 2em;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(184, 28, 44, 0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            transition: background 0.2s;
        }
        .next-btn:hover {
            background: #a00;
        }
        /* MODIFICATION ICI pour que tous les liens 'learn-more-link' s'étendent */
        .learn-more-link {
            display: block; /* Prend toute la largeur disponible */
            margin-top: 20px; /* Conserve la marge supérieure */
            padding: 10px 15px;
            background-color: #b81c2c;
            color: #fff;
            text-decoration: none;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            text-align: left; /* NOUVEAU: Aligne le texte à gauche */
        }
        .learn-more-link:hover {
            background-color: #a00;
        }
        /* L'ancien bloc `#magemotion .learn-more-link` a été supprimé ou commenté */

        /* Gallery Styles */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        .gallery-item {
            cursor: pointer;
            border: 2px solid #eee;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .gallery-item img {
            width: 100%;
            height: 180px; /* Fixed height for consistency */
            object-fit: cover; /* Ensures images cover the area without distortion */
            display: block;
            border-bottom: 2px solid #eee;
        }
        .gallery-item-title {
            padding: 10px;
            font-weight: bold;
            color: #b81c2c;
            font-size: 1.1em;
        }

        /* Modal Styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 2000; /* Sit on top */
            padding-top: 50px; /* Location of the box */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.9); /* Black w/ opacity */
        }
        .modal-content {
            margin: auto;
            display: block;
            width: 80%;
            max-width: 700px;
        }
        .modal-content, #caption {
            animation-name: zoom;
            animation-duration: 0.6s;
        }
        @keyframes zoom {
            from {transform:scale(0)}
            to {transform:scale(1)}
        }
        .modal-close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
        }
        .modal-close:hover,
        .modal-close:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }
        #caption {
            margin: auto;
            display: block;
            width: 80%;
            max-width: 700px;
            text-align: center;
            color: #ccc;
            padding: 10px 0;
            height: 150px;
        }
        .magemotion-images { /* Renamed for clarity within this section */
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        .magemotion-images img {
            width: 100%;
            max-width: 300px; /* Limit width for larger screens */
            height: auto;
            border: 2px solid #b81c2c;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            display: block;
        }
    </style>
</head>
<body>
    <header class="main-header">
        <div class="cedric-banner">
            <div class="banner-content">
                <div class="logo-wrapper">
                    <img src="Logo1.png" alt="Logo Le Cnam Cedric" class="banner-logo" />
                </div>
                <h1>Centre d’études et de recherche<br>en informatique et communications</h1>
            </div>
            <div class="squares">
                <span></span><span></span><span></span><span></span><span></span>
            </div>
        </div>
        <nav class="main-nav">
            <ul>
                <li><a href="#accueil">Accueil</a></li>
                <li><a href="#présentation">Modules et technologie</a></li>
                <li><a href="#magemotion">Mage Motion</a></li>
                <li><a href="#gallery">Galerie d'images</a></li>
                <li><a href="#Equipe">Equipe</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <button class="burger" aria-label="Ouvrir le menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </nav>
    </header>

    <div class="container">
        <section id="accueil">
            <h2>VR-Rehab</h2>
            <p>
                VR-Rehab est une application de rééducation motrice en réalité virtuelle pensée pour les enfants atteints d’hémiparésie. Elle s’appuie sur le principe de la thérapie miroir, qui consiste à refléter les mouvements de la main saine sur la main affectée pour stimuler la récupération. L’objectif est de rendre la rééducation plus motivante en combinant des exercices thérapeutiques et des éléments de jeu dans un environnement immersif.
            </p>
            <div class="stats-row">
                <div class="stats-block">
                    <div class="stat-number">+50%</div>
                    <div class="stat-label">DES ENFANTS VICTIMES D’UN AVC GARDENT DES SÉQUELLES MOTRICES</div>
                </div>
                <div class="stats-block">
                    <div class="stat-number">4</div>
                    <div class="stat-label">NOUVEAUX CAS PAR JOUR EN FRANCE</div>
                </div>
                <div class="stats-block">
                    <div class="stat-number">3/1000</div>
                    <div class="stat-label">ENFANTS TOUCHÉS PAR LA PARALYSIE CÉRÉBRALE</div>
                </div>
                <div class="stats-block">
                    <div class="stat-number">30%</div>
                    <div class="stat-label">DES PARALYSIES CÉRÉBRALES DE L’ENFANT SONT DES HÉMIPLÉGIES</div>
                </div>
            </div>
            <a href="#" class="learn-more-link">En savoir plus</a>
        </section>

        <section id="présentation">
            <h2>Modules et technologie</h2>
            <div class="content-wrapper">
                <p>
                    L’application a été conçue sous Unity, avec une compatibilité multiplateforme assurée par l’utilisation d’OpenXR. Le hand tracking est géré via la bibliothèque XR Hands, optimisée pour les casques Meta Quest 3. Plusieurs modules ont été développés pour structurer les fonctionnalités du système : un module de thérapie miroir permettant de refléter la main saine sur la main affectée (reflet total ou partiel), un test d’ajustement automatique qui mesure les capacités du patient afin d’appliquer un gain personnalisé, et un module d’enregistrement des données de mouvement pour le suivi des progrès. Des outils de personnalisation permettent aussi de configurer les gestes à réaliser, les paramètres audio ou encore la langue de l’interface. Bien qu’une étude ait été menée pour intégrer un Leap Motion Controller afin d'améliorer la précision du suivi des mains, cette piste a été abandonnée en raison de limitations techniques.
                </p>
                <iframe
                    width="560"
                    height="315"
                    src="https://www.youtube.com/embed/pzjkUC8kMoA?si=pnec9B8hf0GYeYkL"
                    title="YouTube video player"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    referrerpolicy="strict-origin-when-cross-origin"
                    allowfullscreen
                ></iframe>
            </div>
            <a href="#" class="learn-more-link">En savoir plus</a>
        </section>

        <section id="magemotion">
            <h2>Mage Motion</h2>
            <div class="texte">
                <strong>1. Introduction</strong><br />
                MageMotion est un mini-jeu thérapeutique intégré à l’application, conçu sous forme de Tower Defense pour rendre la rééducation plus attractive. Le joueur y incarne un magicien chargé de défendre une tour contre des vagues d’ennemis. Pour les vaincre, il doit exécuter des gestes spécifiques inspirés des exercices de rééducation motrice : fermer le poing, effectuer une supination, saisir et lancer un objet, ou encore pointer une cible. Ces gestes doivent être réalisés avec précision dans une zone bien définie, permettant à la fois le suivi par le casque et l’observation par le patient.<br /><br />
                <strong>2. Concept et description du jeu</strong><br />
                Le jeu introduit des mécaniques de progression et de récompense (score, monnaie virtuelle, amélioration des capacités) afin de motiver l’enfant à recommencer les séances. MageMotion représente ainsi l’alliance entre exigence clinique et plaisir de jeu, en rendant les exercices moteurs à la fois utiles et ludiques.
            </div>
             <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="mage_motion_gameplay1.png" alt="Description de l'image 1">
                    <div class="gallery-item-title">Gameplay MageMotion</div>
                </div>
                <div class="gallery-item">
                    <img src="mage_motion_gameplay3.png" alt="Description de l'image 2">
                    <div class="gallery-item-title">Boutique d'équipement</div>
                </div>
                <div class="gallery-item">
                    <img src="mage_motion_gameplay2.png" alt="Description de l'image 2">
                    <div class="gallery-item-title">Organigrame Gameplay</div>
                </div>
            </div>
            <a href="#" class="learn-more-link">En savoir plus</a>
        </section>

        <section id="gallery">
            <h2>Galerie d'images</h2>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="image1.png" alt="Description de l'image 1">
                    <div class="gallery-item-title">Menu principale</div>
                </div>
                <div class="gallery-item">
                    <img src="image2.png" alt="Description de l'image 2">
                    <div class="gallery-item-title">Interface du tutoriel</div>
                </div>
                <div class="gallery-item">
                    <img src="image3.png" alt="Description de l'image 3">
                    <div class="gallery-item-title">Zone de délimitation</div>
                </div>
                <div class="gallery-item">
                    <img src="image4.png" alt="Description de l'image 4">
                    <div class="gallery-item-title">Menu des paramètres</div>
                </div>
                <div class="gallery-item">
                    <img src="image5.png" alt="Description de l'image 5">
                    <div class="gallery-item-title">Test d'ajustement</div>
                </div>
                <div class="gallery-item">
                    <img src="image6.png" alt="Description de l'image 6">
                    <div class="gallery-item-title">Modèles 3D des ennemies</div>
                </div>
            </div>
        </section>

        <section id="Equipe">
            <h2>Equipe</h2>
            <div class="equipe-capsules">
                <div class="equipe-capsule">Verhulst Eulalie</div>
                <div class="equipe-capsule">Pons Olivier</div>
                <div class="equipe-capsule">Niakate Youssouf</div>
                <div class="equipe-capsule">Deplaude Lucie</div>
                <div class="equipe-capsule">Ornato Siméon</div>
                <div class="equipe-capsule">Vonsen Raphaël</div>
                <div class="equipe-capsule">Roig Thomas</div>
                <div class="equipe-capsule">Hu Tony</div>
            </div>
        </section>

        <section id="contact">
            <h2>Contact</h2>
            <form id="contactForm" autocomplete="on" novalidate>
                <label for="nom">Nom <span aria-hidden="true">*</span></label>
                <input type="text" id="nom" name="nom" placeholder="Votre nom" required />

                <label for="email">Email <span aria-hidden="true">*</span></label>
                <input type="email" id="email" name="email" placeholder="Votre email" required />

                <label for="objet">Objet <span aria-hidden="true">*</span></label>
                <select id="objet" name="objet" required>
                    <option value="" disabled selected>Sélectionnez un objet</option>
                    <option value="Demande d'informations">Demande d'informations</option>
                    <option value="Partenariat">Partenariat</option>
                    <option value="Support technique">Support technique</option>
                    <option value="Proposition de stage">Proposition de stage</option>
                    <option value="Demande de collaboration">Demande de collaboration</option>
                    <option value="Autre">Autre</option>
                </select>

                <label for="message">Message <span aria-hidden="true">*</span></label>
                <textarea id="message" name="message" rows="5" placeholder="Votre message..." required></textarea>

                <button type="submit">Envoyer</button>
                <div id="form-message"></div>
            </form>
        </section>
    </div>

    <div id="imageModal" class="modal">
        <span class="modal-close">×</span>
        <img class="modal-content" id="img01">
        <div id="caption"></div>
    </div>

    <button class="next-btn" aria-label="Section suivante">↓</button>

    <footer>
        <p>© 2025 . All rights reserved.</p>
    </footer>

    <script>
        (function() {
            const burger = document.querySelector('.main-nav .burger');
            const navList = document.querySelector('.main-nav ul');
            if (burger && navList) {
                burger.addEventListener('click', function () {
                    burger.classList.toggle('active');
                    navList.classList.toggle('active');
                });
                navList.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                        burger.classList.remove('active');
                        navList.classList.remove('active');
                    });
                });
            }
        })();

        (function() {
            const sections = Array.from(document.querySelectorAll("section"));
            const nextBtn = document.querySelector(".next-btn");
            if (!sections.length || !nextBtn) return;

            function getCurrentSectionIndex() {
                const scrollY = window.scrollY;
                let idx = 0;
                for (let i = 0; i < sections.length; i++) {
                    if (sections[i].offsetTop - 10 > scrollY) break;
                    idx = i;
                }
                return idx;
            }
            nextBtn.addEventListener("click", () => {
                const idx = getCurrentSectionIndex();
                if (idx < sections.length - 1) {
                    sections[idx + 1].scrollIntoView({ behavior: "smooth" });
                }
            });
            window.addEventListener("scroll", () => {
                const idx = getCurrentSectionIndex();
                if (idx >= sections.length - 1) {
                    nextBtn.style.display = "none";
                } else {
                    nextBtn.style.display = "flex";
                }
            });
            /*
            // Ancien code pour le défilement automatique à la molette (désactivé)
            let isScrolling = false;
            window.addEventListener(
                "wheel",
                function (e) {
                    if (isScrolling) return;
                    const idx = getCurrentSectionIndex();
                    if (e.deltaY > 40 && idx < sections.length - 1) {
                        isScrolling = true;
                        sections[idx + 1].scrollIntoView({ behavior: "smooth" });
                        setTimeout(() => {
                            isScrolling = false;
                        }, 700);
                        e.preventDefault();
                    } else if (e.deltaY < -40 && idx > 0) {
                        isScrolling = true;
                        sections[idx - 1].scrollIntoView({ behavior: "smooth" });
                        setTimeout(() => {
                            isScrolling = false;
                        }, 700);
                        e.preventDefault();
                    }
                },
                { passive: false }
            );
            */
        })();

        (function() {
            const form = document.getElementById('contactForm');
            const formMsg = document.getElementById('form-message');
            if (!form) return;
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                const nom = document.getElementById('nom').value.trim();
                const email = document.getElementById('email').value.trim();
                const objet = document.getElementById('objet').value;
                const message = document.getElementById('message').value.trim();

                if (!nom || !email || !objet || !message) {
                    formMsg.style.display = 'block';
                    formMsg.style.color = 'red';
                    formMsg.textContent = 'Merci de remplir tous les champs obligatoires.';
                    return;
                }
                const destinataire = "ton-adresse@mail.com";
                const sujet = encodeURIComponent(`[Contact site] ${objet} - ${nom}`);
                const corps = encodeURIComponent(
                    `Nom : ${nom}\nEmail : ${email}\nObjet : ${objet}\n\nMessage :\n${message}`
                );
                window.location.href = `mailto:${destinataire}?subject=${sujet}&body=${corps}`;
            });
        })();

        // Gallery Modal Logic
        (function() {
            const modal = document.getElementById("imageModal");
            const modalImg = document.getElementById("img01");
            const captionText = document.getElementById("caption");
            const galleryItems = document.querySelectorAll(".gallery-item");
            // Select both the images in the dedicated gallery and the ones in MageMotion
            const clickableImages = document.querySelectorAll(".gallery-grid img, .magemotion-images img");
            const closeModal = document.querySelector(".modal-close");

            // Function to open modal for a given image src and alt text
            function openModal(imgSrc, imgAlt) {
                modal.style.display = "block";
                modalImg.src = imgSrc;
                captionText.innerHTML = imgAlt;
            }

            // Event listeners for all clickable images
            clickableImages.forEach(img => {
                img.addEventListener("click", function() {
                    const imgSrc = this.src;
                    const imgAlt = this.alt; // Use alt text for caption
                    openModal(imgSrc, imgAlt);
                });
            });

            closeModal.addEventListener("click", function() {
                modal.style.display = "none";
            });

            // Close modal when clicking outside the image
            modal.addEventListener("click", function(event) {
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            });
        })();
    </script>
</body>
</html>
